{% assign content_align = '' %}
{% assign content_justify = '' %}
{% assign text_justify = '' %}
{% case section.settings.content_position%}
    {% when 'top-left' %}
        {% assign content_align = 'start' %}
        {% assign content_justify = 'start' %}
        {% assign text_justify = 'left' %}
    {% when 'top-center' %}
        {% assign content_align = 'start' %}
        {% assign content_justify = 'center' %}
        {% assign text_justify = 'center' %}
    {% when 'top-right' %}
        {% assign content_align = 'start' %}
        {% assign content_justify = 'end' %}
        {% assign text_justify = 'right' %}
    {% when 'middle-left' %}
        {% assign content_align = 'center' %}
        {% assign content_justify = 'start' %}
        {% assign text_justify = 'left' %}
    {% when 'middle-center' %}
        {% assign content_align = 'center' %}
        {% assign content_justify = 'center' %}
        {% assign text_justify = 'center' %}
    {% when 'middle-right' %}
        {% assign content_align = 'center' %}
        {% assign content_justify = 'end' %}
        {% assign text_justify = 'right' %}
    {% when 'bottom-left' %}
        {% assign content_align = 'end' %}
        {% assign content_justify = 'start' %}
        {% assign text_justify = 'left' %}
    {% when 'bottom-center' %}
        {% assign content_align = 'end' %}
        {% assign content_justify = 'center' %}
        {% assign text_justify = 'center' %}
    {% when 'bottom-right' %}
        {% assign content_align = 'end' %}
        {% assign content_justify = 'end' %}
        {% assign text_justify = 'right' %}
    {% else %}
        {% assign content_align = 'center' %}
        {% assign content_justify = 'center' %}
        {% assign text_justify = 'center' %}
{% endcase %}

{% assign cbgcolor = 'none' %}
{% if section.settings.has_container%}
    {% assign cbgcolor = section.settings.content-bgcolor %}
{% else %}
    {% assign cbgcolor = 'none' %}
{% endif %}

{% assign tsize = '1rem' %}
{% case section.settings.title_size %}
    {% when 'heading_1' %}
        {% assign tsize = '3rem' %}
    {% when 'heading_2' %}
        {% assign tsize = '2.25rem' %}
    {% when 'heading_3' %}
        {% assign tsize = '1.875rem' %}
    {% when 'heading_4' %}
        {% assign tsize = '3rem' %}
    {% else %}
        {% assign tsize = '1rem' %}
{% endcase %} 

<section id="hero-banner" >
    <div id="margin-container" class="relative" style="margin-top: {{ section.settings.top-margin }}; margin-bottom: {{ section.settings.bottom-margin }}">
        <div id="hero-content-control"
            class="p-8 flex flex-col w-full h-full"
            style="align-items: {{ content_align }}; justify-content: {{ content_justify }};
                    background:url({{ section.settings.background_image | image_url: height: 1600 }}) no-repeat center;
                    
                ">
            {% assign bg_opacity = section.settings.background_opacity | divided_by: 100.0 %}
            <div class="p-8" style="text-align: {{ text_justify }};
                background-color: {{ cbgcolor | color_modify: 'alpha', bg_opacity }};
                color: {{ section.settings.text_color }}">
                {% if section.settings.title != blank%}
                    <div style="font-size: {{ tsize }}">
                        <strong>
                            {{ section.settings.title }}
                        </strong>
                    </div>
                {% endif %}                    
                {% if section.settings.subtitle != blank%}
                    <p>{{ section.settings.subtitle }}</p>
                {% endif %}
                {% if section.settings.button_text != blank%}
                    <div id="column-btn" class="py-4">
                        <a href="{{ section.settings.button_link }}" id="content-button" class="px-6 py-2 border-1 border-slate-400">{{ section.settings.button_text }}</a>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
</section>


{% schema %}
{
    "name": "Hero Banner with Text",
    "settings": [
        {
            "type": "paragraph",
            "content": "This hero banner lets you create a banner with contents in it. If you need a clickable banner only with no content, please use Hero Banner instead."
        },
        {
            "type": "paragraph",
            "content": "This banner needs contents in order to work properly."
        },
        {
            "type": "image_picker",
            "id": "background_image",
            "label": "Background Image"
        },
        {
            "type": "text",
            "id": "title",
            "label": "Title",
            "default": "Welcome to Our Store"
        },
        {
            "type": "text",
            "id": "subtitle",
            "label": "Subtitle",
            "default": "Discover the latest trends and exclusive deals."
        },
        {
            "type": "text",
            "id": "button_text",
            "label": "Button Text",
            "default": "Shop Now"
        },
        {
            "type": "url",
            "id": "button_link",
            "label": "Button Link"
        },
        {
        "type": "select",
        "id": "image_height",
        "label": "Image Height",
        "default": "large",
        "options": [
            {
            "value": "auto",
            "label": "Adapt to image height"
            },
            {
            "value": "large",
            "label": "Large"
            },
            {
            "value": "medium",
            "label": "Medium"
            },
            {
            "value": "small",
            "label": "Small"
            }]
        },
        {
            "type": "select",
            "id": "title_size",
            "label":"Title Size",
            "default": "heading_2",
            "options":[
                {
                    "label":"Heading 1",
                    "value": "heading_1"
                },
                {
                    "label":"Heading 2",
                    "value": "heading_2"
                },
                {
                    "label":"Heading 3",
                    "value": "heading_3"
                },
                {
                    "label":"Heading 4",
                    "value": "heading_4"
                },
                {
                    "label":"Paragraph",
                    "value": "paragraph"
                }
            ]
        },
        {
            "type": "header",
            "content": "Content Settings"
        },
        {
            "type":"select",
            "id": "content-alignment",
            "label": "Content Alignment",
            "default": "center",
            "options": [
                {
                    "value": "start",
                    "label": "Left"
                },
                {
                    "value": "center",
                    "label": "Center"
                },
                {
                    "value": "end",
                    "label": "Right"
                }
            ]
        },
        {
            "type": "checkbox",
            "id": "has_container",
            "default": true,
            "label": "Use container for content"
        },
        {
            "type": "color",
            "id": "content-bgcolor",
            "default": "#ffffff",
            "label": "Content Background Color"
        },
        {
            "type": "range",
            "id": "background_opacity",
            "label": "Background Opacity",
            "default": 100,
            "min": 0,
            "max": 100,
            "step": 1
        },
        {
            "type": "select",
            "id":"content_position",
            "label": "Content Position",
            "default":"middle-center",
            "options": [
                {
                    "label": "Top Left",
                    "value": "top-left"
                },
                {
                    "label": "Top Center",
                    "value": "top-center"
                },
                {
                    "label": "Top Right",
                    "value": "top-right"
                },
                {
                    "label": "Middle Left",
                    "value": "middle-left"
                },
                {
                    "label": "Middle Center",
                    "value": "middle-center"
                },
                {
                    "label": "Middle Right",
                    "value": "middle-right"
                },
                {
                    "label": "Bottm Left",
                    "value": "bottom-left"
                },
                {
                    "label": "Bottom Center",
                    "value": "bottom-center"
                },
                {
                    "label": "Bottom Right",
                    "value": "bottom-right"
                }
            ]
        },
        {
            "type": "color",
            "id": "text_color",
            "label": "Text Color",
            "default": "#020202"
        },
        {
            "type":"header",
            "content": "Margin Settings"
        },
        {
            "type": "range",
            "id": "top-margin",
            "label": "Top Margin",
            "default": 0,
            "min": 0,
            "max": 100,
            "step": 1
        },
        {
            "type": "range",
            "id": "bottom-margin",
            "label": "Bottom Margin",
            "default": 0,
            "min": 0,
            "max": 100,
            "step": 1
        }
    ],
    "presets": [
        {
            "name": "Hero Banner with Text",
            "category": "General"
        }
    ]
}
{% endschema %}