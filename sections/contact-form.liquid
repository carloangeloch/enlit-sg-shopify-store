{% assign form_id = 'CustomContactForm' %}

<section class="w-full mx-auto px-4">
    <div id="margin-container" style="margin-top: {{ section.settings.margin_top }}; margin-bottom: {{ section.settings.margin_bottom }}">
        {% if section.settings.heading != blank %}
            {% render 'section-title',
                title: section.settings.heading
            %}
        {% endif %}
    
        {% form 'contact', id: form_id %}
            {% if form.posted_successfully? %}
                <p class="text-green-600 mb-4">Thanks for reaching out! We'll get back to you soon.</p>
            {% elsif form.errors %}
                <ul class="text-red-600 mb-4">
                    {% for field in form.errors %}
                        <li><strong>{{ form.errors.translated_fields[field] }}</strong> - {{ form.errors.messages[field] }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
    
            <div id="contact-container" class="flex flex-col justify-center items-center w-[1024px] mx-auto">
                <div class="flex flex-row items-center justify-center w-3/4 mx-auto gap-4">
                    <div class="mb-4 w-full">
                        <label for="ContactForm-name" class="block font-medium">Name</label>
                        <input type="text" id="ContactForm-name" name="contact[name]" class="w-full border-1 border-slate-400 p-2" placeholder="Name" required>
                    </div>
            
                    <div class="mb-4 w-full">
                        <label for="ContactForm-email" class="block font-medium">Email</label>
                        <input type="email" id="ContactForm-email" name="contact[email]" class="w-full border-1 border-slate-400 p-2" placeholder="Email Address" required>
                    </div>
                </div>
        
                <div class="mb-4 w-3/4">
                    <label for="ContactForm-phone" class="block font-medium">Phone Number</label>
                    <input type="tel" id="ContactForm-phone" name="contact[phone]" class="w-full border-1 border-slate-400 p-2" placeholder="Phone Number">
                </div>
        
                <div class="mb-4 w-3/4">
                    <label for="ContactForm-body" class="block font-medium">Message</label>
                    <textarea id="ContactForm-body" name="contact[body]" rows="4" class="w-full border-1 border-slate-400 p-2" required  placeholder="Your message here"></textarea>
                </div>
                
                <div id="button-container" class="w-3/4 flex flex-row items-center"
                    style="justify-content: {{ section.settings.button_position }}">
                    <button type="submit" class="bg-black hover:bg-slate-800 text-white px-6 py-2 duration-200 cursor-pointer">
                        {{ section.settings.submit_text}}
                    </button>
                </div>
            </div>
        {% endform %}
    </div>
</section>


{% schema %}
{
    "name": "Contact Form",
    "settings": [
        {
            "type": "text",
            "id": "heading",
            "label": "Heading",
            "default": "Contact Us for Questions"
        },
        {
            "type": "text",
            "id": "submit_text",
            "label": "Sumbit Button text",
            "default": "Send Message"
        },
        {
            "type": "select",
            "id": "button_position",
            "label": "Button Position",
            "default": "start",
            "options": [
                {
                    "label": "Left",
                    "value": "start"
                },
                {
                    "label": "Center",
                    "value": "center"
                },
                {
                    "label": "Right",
                    "value": "end"
                }
            ]
        },
        {
            "type":"header",
            "content": "Margin Settings"
        },
        {
            "type":"range",
            "id": "margin_top",
            "label":"Top Margin",
            "max": 100,
            "min": 0,
            "step": 1,
            "default": 16
        },
        {
            "type":"range",
            "id": "margin_bottom",
            "label":"Bottom Margin",
            "max": 100,
            "min": 0,
            "step": 1,
            "default": 16
        }
    ],
    "presets": [
        {
            "name": "Contact Form",
            "category": "General"
        }
    ]
}
{% endschema %}