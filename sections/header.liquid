{% assign menu_link = linklists[section.settings.menu_links] %}

<!-- Header Section -->
<header class="sticky top-0 z-50 bg-white shadow">
    <div class="flex justify-between items-center h-16 p-4">
        <div id="header-logo">
            <a href="{{ shop.url }}" title="{{ shop.name }}">
                <img src="{{ settings.logo_image | image_url: width: settings.logo_width }}" alt="{{ shop.name }}" width="{{ settings.logo_width }}" height="{{ settings.logo_height }}" />
            </a>
        </div>
        <div id="header-menu-desktop" class="hidden md:flex gap-x-2 items-center justify-center">
            {% for link in menu_link.links %}
                <a href="{{ link.url }}" class="block decoration-0 px-4" title="{{ link.title }}">
                    {{ link.title }}
                </a>
            {%  endfor %}
        </div>
        <div id="header-menu-mobile" class="flex md:hidden items-center justify-center">
            <div id="menu-btn">
                <div id="svg-wrapper">
                    <svg fill="#000000" width="32px" height="32px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                        <title>bars</title>
                        <path d="M2 8.749h28c0.414 0 0.75-0.336 0.75-0.75s-0.336-0.75-0.75-0.75v0h-28c-0.414 0-0.75 0.336-0.75 0.75s0.336 0.75 0.75 0.75v0zM30 15.25h-28c-0.414 0-0.75 0.336-0.75 0.75s0.336 0.75 0.75 0.75v0h28c0.414 0 0.75-0.336 0.75-0.75s-0.336-0.75-0.75-0.75v0zM30 23.25h-28c-0.414 0-0.75 0.336-0.75 0.75s0.336 0.75 0.75 0.75v0h28c0.414 0 0.75-0.336 0.75-0.75s-0.336-0.75-0.75-0.75v0z"></path>
                    </svg>
                </div>
            </div>
            <div id="mobile-menu-modal" class="side-panel fixed top-0 w-full h-screen bg-amber-300 z-50 p-4">
                <div id="menu-close-btn" class="w-full flex items-end justify-end">
                    <svg width="32px" height="32px" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1.5 1.5L13.5 13.5M1.5 13.5L13.5 1.5" stroke="#000000"/>
                    </svg>
                </div>
                <div id="menu-item" class="w-full flex flex-col gap-y-2 ">
                    {% for link in menu_link.links %}
                        <a href="{{ link.url }}" class="py-2 text-center" title="{{ link.title }}">
                            {{ link.title }}
                        </a>
                    {%  endfor %} 
                </div>
            </div>
        </div>
    </div>
</header>

<style>
    .side-panel {
        right: -100%;
        transition: right 0.3s ease;
    }

    .side-panel.show-panel {
        right: 0%; 
    }

</style>

<script>
    const menuBtn = document.getElementById('menu-btn');
    const closeBtn = document.getElementById('menu-close-btn');
    const menuModal = document.getElementById('mobile-menu-modal');

    
    menuBtn.addEventListener('click', () => {
        menuModal.classList.toggle('show-panel');
    });
    
    closeBtn.addEventListener('click', () => {
        menuModal.classList.toggle('show-panel');
    });
        
</script>


{% schema %}
{
    "name": "Header",
    "settings": [
        {
            "type": "link_list",
            "id": "menu_links",
            "label": "Menu List",
            "default": "main-menu"
        }
    ],
    "presets": [
        {
            "name": "Header",
            "category": "Header",            
        }
    ]
}
{% endschema %}
